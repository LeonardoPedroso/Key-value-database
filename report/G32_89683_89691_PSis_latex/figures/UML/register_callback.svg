<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="631" height="459"><desc>frame%20register_callback%0A%0Aparticipantgroup%20%23lightgray%20**Application**%20%0Aparticipant%20ApplicationThread%0Aend%0A%0Aparticipantgroup%20%23lightgray%20**KVS-LocalServer**%20%0Aparticipant%20KVSLocalServerClientThread%0Aend%0A%0Aactivate%20ApplicationThread%0A%0Aparallel%0Anote%20over%20ApplicationThread%3A%20Add%20callback%20to%20%22%22key%22%22%20%5Cnto%20the%20callback%20list%2C%20%5Cnwith%20calback%20id%20%22%22cb_id%22%22%0Anote%20over%20KVSLocalServerClientThread%3A%22%22rcvQueryKVSLocalServer()%22%22%0Aparallel%20off%0A%0AApplicationThread-%3EKVSLocalServerClientThread%3A%20%22%22queryRegisterCallback(key%2Ccb_id)%22%22%0Adeactivate%20ApplicationThread%0Aactivate%20KVSLocalServerClientThread%0A%0Anote%20over%20KVSLocalServerClientThread%3ACheck%20if%20client%20has%20access%20to%20key%0A%0Anote%20over%20KVSLocalServerClientThread%3A%20Add%20callback%20to%20callback%20list%0A%0AKVSLocalServerClientThread--%3EApplicationThread%3A%20%22%22ansQueryRegisterCallback(status)%22%22%0Aactivate%20ApplicationThread%0A%0Adeactivate%20KVSLocalServerClientThread</desc><defs/><g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="630" height="459"/></g><g><g><path fill="lightgray" stroke="black" paint-order="fill stroke markers" d=" M 43.70457841650003 49.55221093349999 L 184.24718238350002 49.55221093349999 L 184.24718238350002 430.83470426699995 L 43.70457841650003 430.83470426699995 L 43.70457841650003 49.55221093349999" stroke-miterlimit="10" stroke-width="1.1518412583333333" stroke-dasharray=""/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="bold" text-decoration="normal" x="79.64287258750002" y="68.90314407349999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Application</text><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="normal" text-decoration="normal" x="144.97490383750002" y="68.90314407349999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> </text></g><g><path fill="lightgray" stroke="black" paint-order="fill stroke markers" d=" M 381.2723006666667 49.55221093349999 L 581.8324827586667 49.55221093349999 L 581.8324827586667 430.83470426699995 L 381.2723006666667 430.83470426699995 L 381.2723006666667 49.55221093349999" stroke-miterlimit="10" stroke-width="1.1518412583333333" stroke-dasharray=""/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="bold" text-decoration="normal" x="431.1969229626667" y="68.90314407349999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">KVS-LocalServer</text><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="normal" text-decoration="normal" x="528.5738760876667" y="68.90314407349999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> </text></g></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 113.97588040000002 119.83756451699999 L 113.97588040000002 430.83470426699995" stroke-miterlimit="10" stroke-width="1.1518412583333333" stroke-dasharray="10.632380846153845,4.607365033333333"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 481.5523917126667 119.83756451699999 L 481.5523917126667 430.83470426699995" stroke-miterlimit="10" stroke-width="1.1518412583333333" stroke-dasharray="10.632380846153845,4.607365033333333"/></g><g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 50.615625966500026 82.517907747 L 177.3361348335 82.517907747 L 177.3361348335 119.83756451699999 L 50.615625966500026 119.83756451699999 L 50.615625966500026 82.517907747 Z" stroke-miterlimit="10" stroke-width="2.211535216" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="normal" text-decoration="normal" x="65.61259915000002" y="106.015469417" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">ApplicationThread</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 388.1833482166667 82.517907747 L 574.9214352086667 82.517907747 L 574.9214352086667 119.83756451699999 L 388.1833482166667 119.83756451699999 L 388.1833482166667 82.517907747 Z" stroke-miterlimit="10" stroke-width="2.211535216" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="normal" text-decoration="normal" x="403.1803214001667" y="106.015469417" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">KVSLocalServerClientThread</text></g></g><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 107.06483285000002 126.748612067 L 120.88692795000003 126.748612067 L 120.88692795000003 245.61862992699997 L 107.06483285000002 245.61862992699997 L 107.06483285000002 126.748612067" stroke-miterlimit="10" stroke-width="1.1518412583333333" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 474.6413441626667 245.61862992699997 L 488.46343926266667 245.61862992699997 L 488.46343926266667 389.36841896699997 L 474.6413441626667 389.36841896699997 L 474.6413441626667 245.61862992699997" stroke-miterlimit="10" stroke-width="1.1518412583333333" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 107.06483285000002 389.36841896699997 L 120.88692795000003 389.36841896699997 L 120.88692795000003 423.923656717 L 107.06483285000002 423.923656717 L 107.06483285000002 389.36841896699997" stroke-miterlimit="10" stroke-width="1.1518412583333333" stroke-dasharray=""/><g><g/><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 6.91104755 6.91104755 L 623.5448736751669 6.91104755 L 623.5448736751669 452.95005642699994 L 6.91104755 452.95005642699994 L 6.91104755 6.91104755 Z" stroke-miterlimit="10" stroke-width="1.1518412583333333" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 6.91104755 6.91104755 L 6.91104755 26.261980689999998 L 141.934144 26.261980689999998 L 151.60961057 16.58651412 L 151.60961057 6.91104755 L 6.91104755 6.91104755" stroke-miterlimit="10" stroke-width="1.1518412583333333" stroke-dasharray=""/><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="bold" text-decoration="normal" x="20.73314265" y="20.042037894999996" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">sd</text><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="normal" text-decoration="normal" x="38.071033275000005" y="20.042037894999996" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">register_callback</text></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 35.937447260000006 147.48175471699997 L 179.57442795000003 147.48175471699997 L 192.01431354000002 159.92164030699996 L 192.01431354000002 206.91676364699998 L 35.937447260000006 206.91676364699998 L 35.937447260000006 147.48175471699997 M 179.57442795000003 147.48175471699997 L 179.57442795000003 159.92164030699996 L 192.01431354000002 159.92164030699996" stroke-miterlimit="10" stroke-width="1.1518412583333333" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="normal" text-decoration="normal" x="55.28838040000002" y="166.832687857" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Add callback to </text><text fill="black" stroke="none" font-family="monospace" font-size="9pt" font-style="normal" font-weight="normal" text-decoration="normal" x="140.00322415000002" y="166.832687857" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">key</text><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="normal" text-decoration="normal" x="161.60673977500002" y="166.832687857" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> </text><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="normal" text-decoration="normal" x="55.28838040000002" y="180.654782957" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">to the callback list, </text><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="normal" text-decoration="normal" x="55.28838040000002" y="194.47687805700002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">with calback id </text><text fill="black" stroke="none" font-family="monospace" font-size="9pt" font-style="normal" font-weight="normal" text-decoration="normal" x="136.65752102500002" y="194.47687805700002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">cb_id</text></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 375.78739607266664 175.12594491699997 L 574.8775017626666 175.12594491699997 L 587.3173873526666 187.56583050699996 L 587.3173873526666 206.91676364699998 L 375.78739607266664 206.91676364699998 L 375.78739607266664 175.12594491699997 M 574.8775017626666 175.12594491699997 L 574.8775017626666 187.56583050699996 L 587.3173873526666 187.56583050699996" stroke-miterlimit="10" stroke-width="1.1518412583333333" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="monospace" font-size="9pt" font-style="normal" font-weight="normal" text-decoration="normal" x="395.1383292126667" y="194.476878057" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">rcvQueryKVSLocalServer()</text></g><g><text fill="black" stroke="none" font-family="monospace" font-size="9pt" font-style="normal" font-weight="normal" text-decoration="normal" x="182.54538605633337" y="240.089791887" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">queryRegisterCallback(key,cb_id)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 120.88692795000003 245.61862992699997 L 463.2611525303334 245.61862992699997" stroke-miterlimit="10" stroke-width="1.1518412583333333" stroke-dasharray=""/><g transform="translate(474.6413441626667,245.61862992699997) translate(-474.6413441626667,-245.61862992699997)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 463.1229315793334 239.85942363533331 L 474.6413441626667 245.61862992699997 L 463.1229315793334 251.37783621866663 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 375.49735701016664 266.35177257699996 L 575.1675408251666 266.35177257699996 L 587.6074264151666 278.791658167 L 587.6074264151666 298.142591307 L 375.49735701016664 298.142591307 L 375.49735701016664 266.35177257699996 M 575.1675408251666 266.35177257699996 L 575.1675408251666 278.791658167 L 587.6074264151666 278.791658167" stroke-miterlimit="10" stroke-width="1.1518412583333333" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="normal" text-decoration="normal" x="394.8482901501667" y="285.702705717" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Check if client has access to key</text></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 389.16727888516664 318.87573395699997 L 561.4976189501666 318.87573395699997 L 573.9375045401666 331.315619547 L 573.9375045401666 350.666552687 L 389.16727888516664 350.666552687 L 389.16727888516664 318.87573395699997 M 561.4976189501666 318.87573395699997 L 561.4976189501666 331.315619547 L 573.9375045401666 331.315619547" stroke-miterlimit="10" stroke-width="1.1518412583333333" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="9pt" font-style="normal" font-weight="normal" text-decoration="normal" x="408.5182120251667" y="338.226667097" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Add callback to callback list</text></g><g><text fill="black" stroke="none" font-family="monospace" font-size="9pt" font-style="normal" font-weight="normal" text-decoration="normal" x="182.54538605633337" y="383.839580927" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">ansQueryRegisterCallback(status)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 474.6413441626667 389.36841896699997 L 132.26711958233335 389.36841896699997" stroke-miterlimit="10" stroke-width="1.1518412583333333" stroke-dasharray="5.52883804"/><g transform="translate(120.88692795000003,389.36841896699997) translate(-120.88692795000003,-389.36841896699997)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 132.40534053333337 383.6092126753333 L 120.88692795000003 389.36841896699997 L 132.40534053333337 395.1276252586666 Z"/></g></g></g><g/><g/></g></svg>